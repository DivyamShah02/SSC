<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="/static/css/loader.css">
    <title>Property Detail Form</title>
    <style>
        #map {
            height: 400px;
            width: 100%;
        }

        .pac-container {
            z-index: 2001 !important;
            /* Ensure autocomplete dropdown is above the modal */
        }
    </style>
</head>


<body>
    <div id="spinner" class="spinner-container p-2"
        style="background-color: rgba(255, 255, 255, 0.293) !important; border-radius: 30%;">
        <div class="spinner"></div>
        <div id="spinner-text" class="loading-text text-center">Fetching best properties<br>for you...</div>
    </div>

    <!-- Navigation bar start -->
    <nav class="navbar bg-body-tertiary fixed-top" style="background-color: white !important;">
        <div class="container">
            <!-- <a class="navbar-brand" href="#">Offcanvas navbar</a> -->
            <a class="navbar-brand" href="#">
                <img src="/static/img/Logo.svg" alt="Square Second Consultancy">
            </a>
        </div>
    </nav>
    <!-- Navigation bar end -->

    <!-- Main content start -->
    <div id="main-content" class="blur">
        <!-- Developer History start -->
        <div class="scc-section container py-2 pt-3" style="margin-top: 90px !important;">
            <div class="p-3 m-0" style="background-color: var(--primary-color); color: white;">
                <h4>Developer History</h4>
            </div>

            <!-- Form body -->
            <form id="developer_history" class="p-4 border border-top-0 rounded-bottom"
                style="background-color: white;">
                <div class="row">
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="developerGroupName">Name of the group</label>
                        <input type="text" class="form-control" id="developerGroupName" name="developerGroupName"
                            placeholder="Enter name">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="yearOfEstablishment">Year of establishment</label>
                        <input type="number" class="form-control" id="yearOfEstablishment" name="yearOfEstablishment" placeholder="2000">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="projectsDelivered">No. of projects delivered</label>
                        <input type="number" class="form-control" id="projectsDelivered" name="projectsDelivered" placeholder="15">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="keyProjects">Key projects</label>
                        <textarea class="form-control" id="keyProjects" name="keyProjects" rows="3"></textarea>
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="keyPromoters">Key promoters</label>
                        <textarea class="form-control" id="keyPromoters" name="keyPromoters" rows="3"></textarea>
                    </div>
                </div>
            </form>

        </div>
        <!-- Developer History end -->

        <!-- Contact Details start -->
        <div class="scc-section container py-2 pt-3" style="margin-top: 90px !important;">
            <div class="p-3 m-0" style="background-color: var(--primary-color); color: white;">
                <h4>Contact Details</h4>
            </div>

            <!-- Form body -->
            <form id="contact_details" class="p-4 border border-top-0 rounded-bottom" style="background-color: white;">
                <div class="row">
                    <!-- Customer Name -->
                    <!-- <div class="col-md-4 form-group">
                        <label for="developerGroupName" class="form-label">
                            Customer Name<span class=""> *</span>
                        </label>
                        <input type="text" class="form-control" id="developerGroupName" name="developerGroupName" placeholder="Enter name" >
                    </div> -->
                    <!-- autofocus -->

                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="contactName">Name</label>
                        <input type="text" class="form-control" id="contactName" name="contactName" placeholder="Enter contact name">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="contactNumber">Number</label>
                        <input type="tel" class="form-control" id="contactNumber" name="contactNumber" placeholder="Enter contact number">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="contactEmail">Email</label>
                        <input type="email" class="form-control" id="contactEmail" name="contactEmail" placeholder="Enter contact email">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="alternateName">Alternate name</label>
                        <input type="text" class="form-control" id="alternateName" name="alternateName" placeholder="Enter alternate name">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="alternateNumber">Alternate number</label>
                        <input type="tel" class="form-control" id="alternateNumber" name="alternateNumber" placeholder="Enter alternate number">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="alternateEmail">Alternate Email</label>
                        <input type="email" class="form-control" id="alternateEmail" name="alternateEmail" placeholder="Enter alternate email">
                    </div>
                </div>
            </form>

        </div>
        <!-- Contact Details end -->

        <!-- Project/Property Details start -->
        <div class="scc-section container py-2 pt-3" style="margin-top: 90px !important;">
            <div class="p-3 m-0" style="background-color: var(--primary-color); color: white;">
                <h4>Project/Property Details</h4>
            </div>

            <!-- Form body -->
            <form id="project_property_details" class="p-4 border border-top-0 rounded-bottom"
                style="background-color: white;">
                <div class="row">
                    <!-- <div class="col-md-4 form-group">
                        <label class="form-label primary" for="projectId">Project/property ID</label>
                        <input type="text" class="form-control" id="projectId" name="projectId" >
                    </div> -->
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="projectName">Project Name</label>
                        <input type="text" class="form-control" id="projectName" name="projectName" placeholder="Enter project name">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="developedBy">Developed by</label>
                        <input type="text" class="form-control" id="developedBy" name="developedBy" placeholder="Builder group name">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="projectLocation">Location of the project
                            (Address)</label>
                        <input type="text" class="form-control" id="projectLocation" name="projectLocation" placeholder="Address of project">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="googlePin">Google pin (fetch current location)</label>
                        <input type="hidden" class="form-control" id="googlePin" name="googlePin"
                            placeholder="Fetch current location" value="No">
                        <button type="button" class="btn btn-custom-primary" data-bs-toggle="modal"
                            data-bs-target="#mapModal">
                            Open Map Selector
                        </button>

                        <div class="modal fade" id="mapModal" tabindex="-1" aria-labelledby="mapModalLabel"
                            aria-hidden="true">
                            <div class="modal-dialog custom-size">
                                <div class="modal-content">
                                    <div class="modal-header"
                                        style="background-color: var(--primary-color); color: white;">
                                        <h1 class="modal-title fs-5" id="mapModalLabel">Select a Location</h1>
                                        <button type="button" class="btn-close" style="filter: invert(10);"
                                            data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <!-- Map -->
                                        <div class="p-3 row">
                                            <div class="col-12 col-md-6">
                                                <input id="searchBox" class="form-control" type="text" placeholder="Enter an address" style="border: 3px var(--primary-color) solid; border-radius: 7px;" >
                                            </div>
                                        </div>
                                        <!-- Search Box -->
                                        <div id="map" style="border-radius: 0 !important;"></div>

                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" id="currentLocationBtn" class="btn btn-secondary">Get
                                            Current Location</button>

                                        <button type="button" id="location_modal_close" class="btn btn-custom"
                                            data-bs-dismiss="modal">Close</button>
                                        <button type="button" class="btn btn-custom-primary" id="saveLocationBtn">Save
                                            Location</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-4 form-group">
                        <label for="projectType" class="form-label primary">Type of Project</label>
                        <!-- <br> -->
                        <!-- <label for="why_buy_house" class="form-label">Select<span class=""> *</span></label> -->
                        <select class="form-select" id="projectType" name="projectType">
                            <option value="Residential apartments">Residential apartments</option>
                            <option value="Residential">Residential</option>
                            <option value="Commercial">Commercial</option>
                            <option value="Mix">Mix</option>
                        </select>
                    </div>
                    <div class="row col-md-12 form-group">
                        <label for="bedrooms" class="form-label primary">Type of apartments (multiple choice)</label>

                        <div class="col-md-4">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="bedrooms" value="1_bhk" id="1_bhk">
                                <label class="form-check-label" for="1_bhk">1 BHK</label>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="bedrooms" value="2_bhk"
                                    id="2_bhk">
                                <label class="form-check-label" for="2_bhk">2 BHK</label>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="bedrooms" value="3_bhk"
                                    id="3_bhk">
                                <label class="form-check-label" for="3_bhk">3 BHK</label>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="bedrooms" value="4_bhk"
                                    id="4_bhk">
                                <label class="form-check-label" for="4_bhk">4 BHK</label>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="bedrooms" value="5_bhk"
                                    id="5_bhk">
                                <label class="form-check-label" for="5_bhk">5 BHK</label>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="bedrooms" value="6_bhk"
                                    id="6_bhk">
                                <label class="form-check-label" for="6_bhk">6 BHK</label>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="ageOfPropertyDeveloper">Age of the property as per
                            developer (MM/YY)</label>
                        <input type="text" class="form-control" id="ageOfPropertyDeveloper" placeholder="Age of the property"
                            name="ageOfPropertyDeveloper">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="ageOfPropertyRERA">Age of the property as per RERA
                            (MM/YY)</label>
                        <input type="text" class="form-control" id="ageOfPropertyRERA" name="ageOfPropertyRERA" placeholder="Age of the property as per RERA">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="plotArea">Plot area of the project (FP/Net)</label>
                        <input type="text" class="form-control" id="plotArea" name="plotArea" placeholder="Enter plot area">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="architect">Architect</label>
                        <input type="text" class="form-control" id="architect" name="architect" placeholder="Enter architech name">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="constructionCompany">Construction company</label>
                        <input type="text" class="form-control" id="constructionCompany" name="constructionCompany" placeholder="Enter construction company name">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="numberOfBlocks">No. of Blocks</label>
                        <input type="number" class="form-control" id="numberOfBlocks" name="numberOfBlocks" placeholder="Enter number of blocks">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="numberOfUnits">No. Units</label>
                        <input type="number" class="form-control" id="numberOfUnits" name="numberOfUnits" placeholder="Enter number of units">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="numberOfFloors">No. Floors</label>
                        <input type="number" class="form-control" id="numberOfFloors" name="numberOfFloors" placeholder="Enter number of floors">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="numberOfBasements">No. of Basements</label>
                        <input type="number" class="form-control" id="numberOfBasements" name="numberOfBasements" placeholder="Enter number of basements">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="jodiPossible">Jodi possible?</label><br>
                        <select class="form-select" id="jodiPossible" name="jodiPossible">
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="layoutDetails">Details about different types of layouts
                            and options</label>
                        <input type="text" class="form-control" id="layoutDetails" name="layoutDetails" placeholder="Enter layout details">
                        <!-- <textarea class="form-control" id="layoutDetails" name="layoutDetails" rows="3"></textarea> -->
                    </div>

                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="overallVastu">Overall Vastu</label><br>
                        <select class="form-select" id="overallVastu" name="overallVastu">
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="entryExitWind">Entry, Exit & Wind directions</label>
                        <input type="text" class="form-control" id="entryExitWind" name="entryExitWind" placeholder="Enter details">
                    </div>
                    <div class="col-md-12 row form-group">
                        <label class="form-label primary" for="buildingAmenities">Building amenities list</label>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities" value="swimming_pool"
                                    id="amenity1">
                                <label class="form-check-label" for="amenity1">Swimming Pool</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities"
                                    value="gym_fitness_center" id="amenity2">
                                <label class="form-check-label" for="amenity2">Gym Fitness Center</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities" value="clubhouse"
                                    id="amenity3">
                                <label class="form-check-label" for="amenity3">Clubhouse</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities"
                                    value="children_play_area" id="amenity4">
                                <label class="form-check-label" for="amenity4">Children Play Area</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities"
                                    value="sports_facilities" id="amenity5">
                                <label class="form-check-label" for="amenity5">Sports Facilities</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities"
                                    value="jogging_walking_tracks" id="amenity6">
                                <label class="form-check-label" for="amenity6">Jogging Walking Tracks</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities" value="common_gardens"
                                    id="amenity7">
                                <label class="form-check-label" for="amenity7">Common Gardens</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities" value="community_hall"
                                    id="amenity8">
                                <label class="form-check-label" for="amenity8">Community Hall</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities" value="security_24_7"
                                    id="amenity9">
                                <label class="form-check-label" for="amenity9">Security 24X7</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities"
                                    value="cctv_surveillance" id="amenity10">
                                <label class="form-check-label" for="amenity10">CCTV Surveillance</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities" value="power_backup"
                                    id="amenity11">
                                <label class="form-check-label" for="amenity11">Power Backup</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities"
                                    value="waste_management" id="amenity12">
                                <label class="form-check-label" for="amenity12">Waste Management</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities" value="concierge"
                                    id="amenity13">
                                <label class="form-check-label" for="amenity13">Concierge</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities" value="reading_room"
                                    id="amenity14">
                                <label class="form-check-label" for="amenity14">Reading Room</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities" value="home_theatre"
                                    id="amenity15">
                                <label class="form-check-label" for="amenity15">Home Theatre</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities"
                                    value="internet_connectivity" id="amenity16">
                                <label class="form-check-label" for="amenity16">Internet Connectivity</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities" value="guest_rooms"
                                    id="amenity17">
                                <label class="form-check-label" for="amenity17">Guest Rooms</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities"
                                    value="pet_friendly_areas" id="amenity18">
                                <label class="form-check-label" for="amenity18">Pet Friendly Areas</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities" value="spa_salon"
                                    id="amenity19">
                                <label class="form-check-label" for="amenity19">Spa Salon</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities"
                                    value="co_working_space" id="amenity20">
                                <label class="form-check-label" for="amenity20">Co-Working Space</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities"
                                    value="terrace_amenities" id="amenity21">
                                <label class="form-check-label" for="amenity21">Terrace Amenities</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="centralAC">Central air conditioning
                            available?</label><br>
                        <select class="form-select" id="centralAC" name="centralAC">
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="petFriendly">Is this project pet friendly?</label><br>
                        <select class="form-select" id="petFriendly" name="petFriendly">
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="spiritualAttraction">Any spiritual or religious
                            attraction in the project?</label><br>
                        <select class="form-select" id="spiritualAttraction" name="spiritualAttraction">
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="parkingType">Type of parking</label><br>
                        <select class="form-select" id="parkingType" name="parkingType">
                            <option value="Normal">Normal</option>
                            <option value="Hydraulic">Hydraulic</option>
                            <option value="Hydraulic with Valet">Hydraulic with Valet</option>
                        </select>
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="plcOptions">PLC Options</label><br>
                        <select class="form-select" id="plcOptions" name="plcOptions">
                            <option value="Garden">Garden</option>
                            <option value="Road Facing">Road Facing</option>
                            <option value="Corner">Corner</option>
                            <option value="Others">Others</option>
                        </select>
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="floorRise">Floor rise</label>
                        <input type="text" class="form-control" id="floorRise" name="floorRise">
                    </div>
                </div>
            </form>
        </div>
        <!-- Project/Property Details end -->

        <!-- Unit Details start -->
        <div class="scc-section container py-2 pt-3" style="margin-top: 90px !important;">
            <div class="p-3 m-0" style="background-color: var(--primary-color); color: white;">
                <h4>Unit Details</h4>
            </div>
            <div class="p-4 border border-top-0 rounded-bottom" style="background-color: white;">
                <table id="unit_details_table" class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Unit Configuration</th>
                            <th scope="col">Unit Size</th>
                            <th scope="col" class="text-end">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
                <button type="button" class="btn btn-custom-primary" data-bs-toggle="modal" data-bs-target="#unitModal">
                    Add Unit
                </button>

                <div class="modal fade" id="unitModal" tabindex="-1" aria-labelledby="unitModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog custom-size">
                        <div class="modal-content">
                            <div class="modal-header" style="background-color: var(--primary-color); color: white;">
                                <h1 class="modal-title fs-5" id="unitModalLabel">Unit Details</h1>
                                <button type="button" class="btn-close" style="filter: invert(10);"
                                    data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <!-- <div class="p-3 m-0" style="background-color: var(--primary-color); color: white;">
                                <h4>Unit Details</h4>
                            </div> -->

                                <!-- Form body -->
                                <form id="unit_details_modal_form" class="p-4 border border-top-0 rounded-bottom"
                                    style="background-color: white;">
                                    <div class="row">
                                        <!-- <div class="col-md-4 form-group">
                                        <label class="form-label primary" for="projectId">Project/property ID</label>
                                        <input type="text" class="form-control" id="projectId" name="projectId" >
                                    </div> -->
                                        <div class="col-md-4 form-group">
                                            <label class="form-label primary" for="unitTypes">Type of unit</label><br>
                                            <select class="form-select" id="unitTypes" name="unitTypes">
                                                <option value="3 BHK">3 BHK</option>
                                                <option value="4 BHK">4 BHK</option>
                                                <option value="5 BHK">5 BHK</option>
                                            </select>
                                        </div>
                                        <div class="col-md-4 form-group">
                                            <label class="form-label primary" for="layoutTypes">Layout Types</label><br>
                                            <select class="form-select" id="layoutTypes" name="layoutTypes">
                                                <option value="Simplex">Simplex</option>
                                                <option value="Duplex">Duplex</option>
                                                <option value="Triplex">Triplex</option>
                                                <option value="Penthouse">Penthouse</option>
                                            </select>
                                        </div>
                                        <div class="col-md-4 form-group">
                                            <label class="form-label primary" for="unitsPerFloor">No. of units on one
                                                floor</label>
                                            <input type="number" class="form-control" id="unitsPerFloor" placeholder="Enter Units per floor"
                                                name="unitsPerFloor">
                                        </div>
                                        <div class="col-md-4 form-group">
                                            <label class="form-label primary" for="liftsPerFloor">No. of lifts on one
                                                floor</label>
                                            <input type="number" class="form-control" id="liftsPerFloor" placeholder="Enter nubmer of lifts per floor"
                                                name="liftsPerFloor">
                                        </div>
                                        <div class="col-md-4 form-group">
                                            <label class="form-label primary" for="privateLifts">Private lifts?</label>
                                            <select class="form-select" id="privateLifts" name="privateLifts">
                                                <option value="Yes">Yes</option>
                                                <option value="No">No</option>
                                            </select>
                                        </div>
                                        <div class="col-md-4 form-group">
                                            <label class="form-label primary" for="numberOfPrivateLifts">If Yes, How
                                                many?</label>
                                            <input type="number" class="form-control" id="numberOfPrivateLifts" placeholder="Enter number of private lifts"
                                                name="numberOfPrivateLifts">
                                        </div>
                                        <div class="col-md-4 form-group">
                                            <label class="form-label primary" for="commonTerrace">Common terrace
                                                accessible?</label><br>
                                            <select class="form-select" id="commonTerrace" name="commonTerrace">
                                                <option value="Yes">Yes</option>
                                                <option value="No">No</option>
                                            </select>
                                        </div>
                                        <div class="col-md-4 form-group">
                                            <label class="form-label primary" for="sizeOfMainBalcony">Size of main
                                                balcony</label>
                                            <input type="text" class="form-control" id="sizeOfMainBalcony" placeholder="Enter size of main balcony"
                                                name="sizeOfMainBalcony">
                                        </div>
                                        <div class="col-md-4 form-group">
                                            <label class="form-label primary" for="sizeOfMasterBedroom">Size of master
                                                bedroom</label>
                                            <input type="text" class="form-control" id="sizeOfMasterBedroom" placeholder="Enter size of master bedroom"
                                                name="sizeOfMasterBedroom">
                                        </div>
                                        <div class="col-md-4 form-group">
                                            <label class="form-label primary" for="sizeOfKitchen">Size of
                                                kitchen</label>
                                            <input type="text" class="form-control" id="sizeOfKitchen" placeholder="Enter size of kitchen"
                                                name="sizeOfKitchen">
                                        </div>
                                        <div class="col-md-4 form-group">
                                            <label class="form-label primary" for="sizeOfPrivateTerrace">Size of private
                                                terrace</label>
                                            <input type="text" class="form-control" id="sizeOfPrivateTerrace" placeholder="Enter size of private terrace"
                                                name="sizeOfPrivateTerrace">
                                        </div>
                                        <div class="col-md-4 form-group">
                                            <label class="form-label primary" for="sizeOfUnit">Size of the unit
                                                (SBU)</label>
                                            <input type="text" class="form-control" id="sizeOfUnit" name="sizeOfUnit" placeholder="Enter size of unit">
                                        </div>
                                        <div class="col-md-4 form-group">
                                            <label class="form-label primary" for="carpetArea">Carpet area as per
                                                RERA</label>
                                            <input type="text" class="form-control" id="carpetArea" name="carpetArea" placeholder="Enter carpet area as per RERA">
                                        </div>
                                        <div class="col-md-4 form-group">
                                            <label class="form-label primary" for="numberOfBathrooms">No. of attached
                                                bathrooms</label>
                                            <input type="number" class="form-control" id="numberOfBathrooms" placeholder="Enter number of attached bathrooms"
                                                name="numberOfBathrooms">
                                        </div>
                                        <div class="col-md-4 form-group">
                                            <label class="form-label primary" for="servantRoomAvailable">Servant room
                                                available?</label><br>
                                            <select class="form-select" id="servantRoomAvailable"
                                                name="servantRoomAvailable">
                                                <option value="Yes">Yes</option>
                                                <option value="No">No</option>
                                            </select>
                                        </div>
                                        <div class="col-md-4 form-group">
                                            <label class="form-label primary" for="pujaRoomAvailable">Separate puja room
                                                available?</label><br>
                                            <select class="form-select" id="pujaRoomAvailable" name="pujaRoomAvailable">
                                                <option value="Yes">Yes</option>
                                                <option value="No">No</option>
                                            </select>
                                        </div>
                                        <div class="col-md-4 form-group">
                                            <label class="form-label primary" for="numberOfBalconies">No. balconies in
                                                one house</label>
                                            <input type="number" class="form-control" id="numberOfBalconies" placeholder="Enter number of balconies"
                                                name="numberOfBalconies">
                                        </div>
                                        <div class="col-md-4 form-group">
                                            <label class="form-label primary" for="parkingAllotted">No. of parking
                                                allotted to one unit</label>
                                            <input type="number" class="form-control" id="parkingAllotted" placeholder="Enter number of parking space"
                                                name="parkingAllotted">
                                        </div>
                                        <div class="col-md-4 form-group">
                                            <label class="form-label primary" for="perSqFtRate">Per Sq. Ft. rate on
                                                saleable</label>
                                            <input type="text" class="form-control" id="perSqFtRate" name="perSqFtRate" placeholder="Enter rate of Per Sq. Ft.">
                                        </div>
                                    </div>
                                </form>

                            </div>
                            <div class="modal-footer">
                                <button type="button" id="unit_modal_close" class="btn btn-custom"
                                    data-bs-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-custom-primary" onclick="save_unit_details()">Save
                                    changes</button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

        </div>
        <!-- Unit Details end -->

        <!-- Finance start -->
        <div class="scc-section container py-2 pt-3" style="margin-top: 90px !important;">
            <div class="p-3 m-0" style="background-color: var(--primary-color); color: white;">
                <h4>Finance</h4>
            </div>

            <!-- Form body -->
            <form id="finance" class="p-4 border border-top-0 rounded-bottom" style="background-color: white;">
                <div class="row">
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="developmentCharges">Development charges (AMC/Torrent
                            etc)</label>
                        <input type="text" class="form-control" id="developmentCharges" name="developmentCharges" placeholder="Enter development charges">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="advanceMaintenance">Advance maintenance</label>
                        <input type="text" class="form-control" id="advanceMaintenance" name="advanceMaintenance" placeholder="Enter advance maintenance">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="maintenanceDeposit">Maintenance deposit</label>
                        <input type="text" class="form-control" id="maintenanceDeposit" name="maintenanceDeposit" placeholder="Enter maintenance deposit">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="specificExpenses">Other specific expenses if any?</label>
                        <input type="text" class="form-control" id="specificExpenses" name="specificExpenses" placeholder="Enter details">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="saleDeedValue">Sale deed value</label>
                        <input type="text" class="form-control" id="saleDeedValue" name="saleDeedValue" placeholder="Enter sale deed value">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="gstApplicable">How much GST is applicable?</label>
                        <input type="text" class="form-control" id="gstApplicable" name="gstApplicable" placeholder="Enter GST">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="loanAvailability">Loan availability?</label><br>
                        <select class="form-control" id="loanAvailability" name="loanAvailability">
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                    <div class="col-md-12 form-group">
                        <label class="form-label primary" for="remarks">Remarks if any</label>
                        <textarea class="form-control" id="remarks" name="remarks" rows="3"></textarea>
                    </div>

                    <div class="col-md-12 text-center">
                        <button type="button" onclick="submit_detail_form()" class="btn btn-custom"><b>Save Property
                                Details</b></button>
                    </div>
                </div>
            </form>

        </div>
        <!-- Finance end -->

        <div class="container mt-3">
            <p class="text-primary-ssc"><b>&copy; 2024 Square Second</b></p>
        </div>
    </div>
    <!-- Main content end -->


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>


    <!-- Google Maps API -->
    <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAcRWpebJJ-1GyUv8NkMPVizMtqLWBHotk&libraries=places"></script>

    <script>
        let map, marker, searchBox;

        function initMap() {
            const initialLocation = { lat: 23.022505, lng: 72.5713621 }; // Set a default location

            map = new google.maps.Map(document.getElementById('map'), {
                center: initialLocation,
                zoom: 8
            });

            marker = new google.maps.Marker({
                position: initialLocation,
                map: map,
                draggable: true
            });

            // Create the search box and link it to the input field
            searchBox = new google.maps.places.SearchBox(document.getElementById('searchBox'));

            // Bias the search results towards the current map's viewport
            map.addListener('bounds_changed', () => {
                searchBox.setBounds(map.getBounds());
            });

            searchBox.addListener('places_changed', () => {
                const places = searchBox.getPlaces();
                if (places.length == 0) {
                    return;
                }

                // Get the first place's location and set it to the map and marker
                const place = places[0];
                if (!place.geometry || !place.geometry.location) {
                    return;
                }

                map.setCenter(place.geometry.location);
                marker.setPosition(place.geometry.location);
                map.setZoom(15);
            });

            // Update the search box with the address when the marker is moved
            marker.addListener('dragend', () => {
                const latlng = marker.getPosition();
                const geocoder = new google.maps.Geocoder();

                geocoder.geocode({ location: latlng }, (results, status) => {
                    if (status === 'OK') {
                        if (results[0]) {
                            document.getElementById('searchBox').value = results[0].formatted_address;
                        }
                    }
                });
            });
        }

        // Load the map when the modal is shown
        $('#mapModal').on('shown.bs.modal', function () {
            google.maps.event.trigger(map, "resize");
            map.setCenter(marker.getPosition());  // Re-center the map on the marker
        });

        // Save location button click handler
        document.getElementById('saveLocationBtn').addEventListener('click', () => {
            const lat = marker.getPosition().lat();
            const lng = marker.getPosition().lng();
            // alert(`Selected Location: Latitude: ${lat}, Longitude: ${lng}`);
            document.getElementById('googlePin').value = `${lat}|${lng}`
            document.getElementById('location_modal_close').click()
            // You can send the location data to your backend here
        });

        function getCurrentLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition((position) => {
                    const currentLocation = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };

                    // Set the map center and marker position to current location
                    map.setCenter(currentLocation);
                    map.setZoom(15);  // Zoom in to the current location
                    marker.setPosition(currentLocation);

                    // Reverse geocode to get the address and update the search box
                    const geocoder = new google.maps.Geocoder();
                    geocoder.geocode({ location: currentLocation }, (results, status) => {
                        if (status === 'OK') {
                            if (results[0]) {
                                document.getElementById('searchBox').value = results[0].formatted_address;
                                document.getElementById('place-address').innerHTML = results[0].formatted_address;
                            } else {
                                document.getElementById('place-address').innerHTML = 'No address found';
                            }
                        }
                    });
                }, () => {
                    alert("Geolocation failed or is not supported by this browser.");
                });
            } else {
                alert("Geolocation is not supported by this browser.");
            }
        }

        // Add event listener to the button
        document.getElementById('currentLocationBtn').addEventListener('click', getCurrentLocation);



    </script>


    <script>
        let property_detail = {}
        property_detail['units'] = []

        async function submit_detail_form() {
            toggle_preloader()
            var developer_history_form = document.getElementById('developer_history');
            var contact_details_form = document.getElementById('contact_details');
            var project_property_details_form = document.getElementById('project_property_details');
            var finance_form = document.getElementById('finance');

            if (developer_history_form.reportValidity()) {
                if (contact_details_form.reportValidity()) {
                    if (project_property_details_form.reportValidity()) {
                        if (finance_form.reportValidity()) {
                            var form_developer_history = new FormData(document.getElementById('developer_history'));
                            var form_contact_details = new FormData(document.getElementById('contact_details'));
                            var form_project_property_details = new FormData(document.getElementById('project_property_details'));
                            var form_finance = new FormData(document.getElementById('finance'));

                            form_developer_history.forEach((value, key) => {
                                if (!Object.prototype.hasOwnProperty.call(property_detail, key)) {
                                    property_detail[key] = value;
                                    return;
                                }
                                if (!Array.isArray(property_detail[key])) {
                                    property_detail[key] = [property_detail[key]];
                                }
                                property_detail[key].push(value);
                            });

                            form_contact_details.forEach((value, key) => {
                                if (!Object.prototype.hasOwnProperty.call(property_detail, key)) {
                                    property_detail[key] = value;
                                    return;
                                }
                                if (!Array.isArray(property_detail[key])) {
                                    property_detail[key] = [property_detail[key]];
                                }
                                property_detail[key].push(value);
                            });

                            form_project_property_details.forEach((value, key) => {
                                if (!Object.prototype.hasOwnProperty.call(property_detail, key)) {
                                    property_detail[key] = value;
                                    return;
                                }
                                if (!Array.isArray(property_detail[key])) {
                                    property_detail[key] = [property_detail[key]];
                                }
                                property_detail[key].push(value);
                            });

                            form_finance.forEach((value, key) => {
                                if (!Object.prototype.hasOwnProperty.call(property_detail, key)) {
                                    property_detail[key] = value;
                                    return;
                                }
                                if (!Array.isArray(property_detail[key])) {
                                    property_detail[key] = [property_detail[key]];
                                }
                                property_detail[key].push(value);
                            });

                            console.log(JSON.stringify(property_detail))
                            try {
                                const response = await fetch("{% url 'property-detail-list' %}", {
                                    method: 'POST',
                                    headers: {
                                        'Content-Type': 'application/json',
                                        'X-CSRFToken': '{{csrf_token}}'
                                    },
                                    body: JSON.stringify(property_detail)
                                });

                                const data = await response.json();
                                console.log(JSON.stringify(data, null, 2))
                                if (data.success == true) {
                                    alert('data added successfully!')
                                }
                                else {

                                }

                            }
                            catch (error) {
                                console.log(error.message)
                            }

                        }

                    }

                }

            }

            toggle_preloader()

        }

        function save_unit_details() {
            var object = {};
            var unit_details_modal_form = new FormData(document.getElementById('unit_details_modal_form'));
            unit_details_modal_form.forEach((value, key) => {
                if (!Object.prototype.hasOwnProperty.call(object, key)) {
                    object[key] = value;
                    return;
                }
                if (!Array.isArray(object[key])) {
                    object[key] = [object[key]];
                }
                object[key].push(value);
            });
            property_detail['units'].push(object)

            const table = document.getElementById('unit_details_table').querySelector('tbody');
            const numberOfRows = table.childElementCount;

            const newRow = table.insertRow();

            // Add columns for bedrooms and size
            const cell1 = newRow.insertCell(0);
            const cell2 = newRow.insertCell(1);
            const cell3 = newRow.insertCell(2);
            const cell4 = newRow.insertCell(3);

            // Fill in the columns
            cell1.textContent = numberOfRows + 1;
            cell1.style.fontWeight = 600;
            cell2.textContent = object['unitTypes'];
            cell3.textContent = object['sizeOfUnit'];
            cell4.innerHTML = `<i onclick="remove_unit_row(${numberOfRows + 1})" style="cursor: pointer;" class="fa fa-xmark"></i>`;
            cell4.classList.add('text-end');

            document.getElementById('unit_details_modal_form').reset();
            document.getElementById('unit_modal_close').click()

        }

        function remove_unit_row(ind) {
            console.log(ind - 1);
            property_detail['units'].splice(ind - 1, 1);
            var table = document.getElementById('unit_details_table');
            table.deleteRow(ind);
        }

        function toggle_loader() {
            document.getElementById('main-content').classList.toggle('blur');
            document.getElementById('spinner').classList.toggle('spinner-container');
            document.getElementById('spinner-text').classList.toggle('add-display-block');
        }

        function toggle_preloader() {
            document.getElementById('main-content').classList.toggle('blur');
            document.getElementById('spinner').classList.toggle('spinner-container');
        }

        const bedroom_checkboxes = document.querySelectorAll('input[name="bedrooms"]');
        const bedroom_maxSelection = 2;

        bedroom_checkboxes.forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                const checkedBoxes = document.querySelectorAll('input[name="bedrooms"]:checked');
                if (checkedBoxes.length > bedroom_maxSelection) {
                    checkbox.checked = false;
                    // alert('You can only select a maximum of ' + maxSelection + ' bedrooms.');
                }
            });
        });

        const amenities_checkboxes = document.querySelectorAll('input[name="amenities"]');
        const amenities_maxSelection = 5;

        amenities_checkboxes.forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                const checkedBoxes = document.querySelectorAll('input[name="amenities"]:checked');
                if (checkedBoxes.length > amenities_maxSelection) {
                    checkbox.checked = false;
                    // alert('You can only select a maximum of ' + maxSelection + ' bedrooms.');
                }
            });
        });

        window.onload = function () {
            toggle_preloader();
            initMap();
        };

    </script>
</body>

</html>