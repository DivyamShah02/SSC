<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css"
        rel="stylesheet">
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="/static/css/loader.css">
    <title>Property Detail Form</title>
    <style>
        #map {
            height: 400px;
            width: 100%;
        }

        .pac-container {
            z-index: 2001 !important;
            /* Ensure autocomplete dropdown is above the modal */
        }
    </style>
</head>


<body>
    <div id="spinner" class="spinner-container p-2"
        style="background-color: rgba(255, 255, 255, 0.293) !important; border-radius: 30%;">
        <div class="spinner"></div>
        <div id="spinner-text" class="loading-text text-center">Fetching best properties<br>for you...</div>
    </div>

    <!-- Navigation bar start -->
    <nav class="navbar bg-body-tertiary fixed-top" style="background-color: white !important;">
        <div class="container">
            <!-- <a class="navbar-brand" href="#">Offcanvas navbar</a> -->
            <a class="navbar-brand" href="#">
                <img src="/static/img/Logo.svg" alt="Square Second Consultancy">
            </a>
        </div>
    </nav>
    <!-- Navigation bar end -->

    <!-- Main content start -->
    <div id="main-content" class="blur">
        <!-- Developer History start -->
        <div class="scc-section container py-2 pt-3" style="margin-top: 90px !important;">
            <div class="p-3 m-0" style="background-color: var(--primary-color); color: white;">
                <h4>Developer History</h4>
            </div>

            <!-- Form body -->
            <form id="developer_history" class="p-4 border border-top-0 rounded-bottom"
                style="background-color: white;">
                <div class="row">
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="developerGroupName">Name of the group</label>
                        <input type="text" class="form-control" id="developerGroupName" name="group_name"
                            placeholder="Enter name">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="yearOfEstablishment">Year of establishment</label>
                        <input type="number" class="form-control" id="yearOfEstablishment" name="year_of_establishment"
                            placeholder="2000">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="projectsDelivered">No. of projects delivered</label>
                        <input type="number" class="form-control" id="projectsDelivered" name="no_of_projects_delivered"
                            placeholder="15">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="keyProjects">Key projects</label>
                        <input type="text" class="form-control" id="key_projects_1" name="key_projects_1"
                            placeholder="Key Project 1">
                        <input type="text" class="form-control" id="key_projects_2" name="key_projects_2"
                            placeholder="Key Project 2">
                        <input type="text" class="form-control" id="key_projects_3" name="key_projects_3"
                            placeholder="Key Project 3">
                        <input type="text" class="form-control" id="key_projects_4" name="key_projects_4"
                            placeholder="Key Project 4">
                        <input type="text" class="form-control" id="key_projects_5" name="key_projects_5"
                            placeholder="Key Project 5">

                        <!-- <textarea class="form-control" id="keyProjects" name="key_projects" rows="3"></textarea> -->
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="keyPromoters">Key promoters</label>
                        <input type="text" class="form-control" id="key_promoters_1" name="key_promoters_1"
                            placeholder="Key Promoter 1">
                        <input type="text" class="form-control" id="key_promoters_2" name="key_promoters_2"
                            placeholder="Key Promoter 2">
                        <input type="text" class="form-control" id="key_promoters_3" name="key_promoters_3"
                            placeholder="Key Promoter 3">
                        <input type="text" class="form-control" id="key_promoters_4" name="key_promoters_4"
                            placeholder="Key Promoter 4">
                        <input type="text" class="form-control" id="key_promoters_5" name="key_promoters_5"
                            placeholder="Key Promoter 5">

                        <!-- <textarea class="form-control" id="keyPromoters" name="key_promoters" rows="3"></textarea> -->
                    </div>
                </div>
            </form>

        </div>
        <!-- Developer History end -->

        <!-- Contact Details start -->
        <div class="scc-section container py-2 pt-3" style="margin-top: 90px !important;">
            <div class="p-3 m-0" style="background-color: var(--primary-color); color: white;">
                <h4>Contact Details</h4>
            </div>

            <!-- Form body -->
            <form id="contact_details" class="p-4 border border-top-0 rounded-bottom" style="background-color: white;">
                <div class="row">
                    <!-- Customer Name -->
                    <!-- <div class="col-md-4 form-group">
                        <label for="developerGroupName" class="form-label">
                            Customer Name<span class=""> *</span>
                        </label>
                        <input type="text" class="form-control" id="developerGroupName" name="group_name" placeholder="Enter name" >
                    </div> -->
                    <!-- autofocus -->

                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="contactName">Name</label>
                        <input type="text" class="form-control" id="contactName" name="name"
                            placeholder="Enter contact name">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="contactNumber">Number</label>
                        <input type="tel" class="form-control" id="contactNumber" name="number"
                            placeholder="Enter contact number">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="contactEmail">Email</label>
                        <input type="email" class="form-control" id="contactEmail" name="email"
                            placeholder="Enter contact email">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="alternateName">Alternate name</label>
                        <input type="text" class="form-control" id="alternateName" name="alternate_name"
                            placeholder="Enter alternate name">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="alternateNumber">Alternate number</label>
                        <input type="tel" class="form-control" id="alternateNumber" name="alternate_number"
                            placeholder="Enter alternate number">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="alternateEmail">Alternate Email</label>
                        <input type="email" class="form-control" id="alternateEmail" name="alternate_email"
                            placeholder="Enter alternate email">
                    </div>
                </div>
            </form>

        </div>
        <!-- Contact Details end -->

        <!-- Project/Property Details start -->
        <div class="scc-section container py-2 pt-3" style="margin-top: 90px !important;">
            <div class="p-3 m-0" style="background-color: var(--primary-color); color: white;">
                <h4>Project/Property Details</h4>
            </div>

            <!-- Form body -->
            <form id="project_property_details" class="p-4 border border-top-0 rounded-bottom"
                style="background-color: white;">
                <div class="row">
                    <!-- <div class="col-md-4 form-group">
                        <label class="form-label primary" for="projectId">Project/property ID</label>
                        <input type="text" class="form-control" id="projectId" name="project_id" >
                    </div> -->
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="projectName">Project Name</label>
                        <input type="text" class="form-control" id="projectName" name="project_name"
                            placeholder="Enter project name">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="developedBy">Developed by</label>
                        <input type="text" class="form-control" id="developedBy" name="developed_by"
                            placeholder="Builder group name">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="projectLocation">Location of the project
                            (Address)</label>
                        <input type="text" class="form-control" id="projectLocation" name="location_of_project"
                            placeholder="Address of project">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="googlePin">Google pin (fetch current location)</label>
                        <input type="hidden" class="form-control" id="googlePin" name="google_Pin"
                            placeholder="Fetch current location" value="No">
                        <button type="button" class="btn btn-custom-primary" data-bs-toggle="modal"
                            data-bs-target="#mapModal">
                            Open Map Selector <i id="locaiton_saved" class=""></i>
                        </button>

                        <div class="modal fade" id="mapModal" tabindex="-1" aria-labelledby="mapModalLabel"
                            aria-hidden="true">
                            <div class="modal-dialog custom-size">
                                <div class="modal-content">
                                    <div class="modal-header"
                                        style="background-color: var(--primary-color); color: white;">
                                        <h1 class="modal-title fs-5" id="mapModalLabel">Select a Location</h1>
                                        <button type="button" class="btn-close" style="filter: invert(10);"
                                            data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <!-- Map -->
                                        <div class="p-3 row">
                                            <div class="col-12 col-md-6">
                                                <input id="searchBox" class="form-control" type="text"
                                                    placeholder="Enter an address"
                                                    style="border: 3px var(--primary-color) solid; border-radius: 7px;">
                                            </div>
                                        </div>
                                        <!-- Search Box -->
                                        <div id="map" style="border-radius: 0 !important;"></div>

                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" id="currentLocationBtn" class="btn btn-secondary">Get
                                            Current Location</button>

                                        <button type="button" id="location_modal_close" class="btn btn-custom"
                                            data-bs-dismiss="modal">Close</button>
                                        <button type="button" class="btn btn-custom-primary" id="saveLocationBtn">Save
                                            Location</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-4 form-group">
                        <label for="projectType" class="form-label primary">Type of Project</label><br>
                        <!-- <br> -->
                        <!-- <label for="why_buy_house" class="form-label">Select<span class=""> *</span></label> -->
                        <!-- <select class="form-select" id="projectType" name="type_of_project">
                            <option value="Residential apartments">Residential apartments</option>
                            <option value="Residential">Residential</option>
                            <option value="Commercial">Commercial</option>
                            <option value="Mix">Mix</option>
                        </select> -->                        
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="type_of_project" id="type_of_project_Residential" value="Residential">
                            <label class="form-check-label" for="type_of_project_Residential">Residential</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="type_of_project" id="type_of_project_Commercial" value="Commercial">
                            <label class="form-check-label" for="type_of_project_Commercial">Commercial</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="type_of_project" id="type_of_project_Mix" value="Mix">
                            <label class="form-check-label" for="type_of_project_Mix">Mix</label>
                        </div>
                    </div>
                    <div class="row col-md-12 form-group">
                        <label for="bedrooms" class="form-label primary">Type of apartments (multiple choice)</label>

                        <!-- <div class="col-md-4">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="type_of_apartments" value="1_bhk" id="1_bhk">
                                <label class="form-check-label" for="1_bhk">1 BHK</label>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="type_of_apartments" value="2_bhk"
                                    id="2_bhk">
                                <label class="form-check-label" for="2_bhk">2 BHK</label>
                            </div>
                        </div> -->

                        <div class="col-md-2">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="type_of_apartments" value="1_bhk"
                                    id="1_bhk">
                                <label class="form-check-label" for="1_bhk">1 BHK</label>
                            </div>
                        </div>

                        <div class="col-md-2">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="type_of_apartments" value="2_bhk"
                                    id="2_bhk">
                                <label class="form-check-label" for="2_bhk">2 BHK</label>
                            </div>
                        </div>

                        <div class="col-md-2">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="type_of_apartments" value="3_bhk"
                                    id="3_bhk">
                                <label class="form-check-label" for="3_bhk">3 BHK</label>
                            </div>
                        </div>

                        <div class="col-md-2">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="type_of_apartments" value="4_bhk"
                                    id="4_bhk">
                                <label class="form-check-label" for="4_bhk">4 BHK</label>
                            </div>
                        </div>

                        <div class="col-md-2">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="type_of_apartments" value="5_bhk"
                                    id="5_bhk">
                                <label class="form-check-label" for="5_bhk">5 BHK</label>
                            </div>
                        </div>

                        <div class="col-md-2">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="type_of_apartments" value="6_bhk"
                                    id="6_bhk">
                                <label class="form-check-label" for="6_bhk">6 BHK</label>
                            </div>
                        </div>

                    </div>
                    <!-- <div class="col-md-4 form-group">
                        <label class="form-label primary" for="possession_by">Possession By (MM/YY)</label>
                        <input type="text" class="form-control" id="possession_by" placeholder="Age of the property"
                            name="possession_by">
                    </div> -->
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="ageOfPropertyDeveloper">Age of the property as per
                            developer (MM/YY)</label>
                        <input type="text" class="form-control" id="ageOfPropertyDeveloper"
                            placeholder="Age of the property" name="age_of_property_developer">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="ageOfPropertyRERA">Age of the property as per RERA
                            (MM/YY)</label>
                        <input type="text" class="form-control" id="ageOfPropertyRERA" name="age_of_property_rera"
                            placeholder="Age of the property as per RERA">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="plotArea">Plot area of the project (FP/Net)</label>
                        <input type="text" class="form-control" id="plotArea" name="plot_area"
                            placeholder="Enter plot area">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="architect">Architect</label>
                        <input type="text" class="form-control" id="architect" name="architect"
                            placeholder="Enter architech name">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="constructionCompany">Construction company</label>
                        <input type="text" class="form-control" id="constructionCompany" name="construction_company"
                            placeholder="Enter construction company name">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="numberOfBlocks">No. of Blocks</label>
                        <input type="number" class="form-control" id="numberOfBlocks" name="no_of_blocks"
                            placeholder="Enter number of blocks">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="numberOfUnits">No. Units</label>
                        <input type="number" class="form-control" id="numberOfUnits" name="no_of_units"
                            placeholder="Enter number of units">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="numberOfFloors">No. Floors</label>
                        <input type="number" class="form-control" id="numberOfFloors" name="no_of_floors"
                            placeholder="Enter number of floors">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="numberOfBasements">No. of Basements</label>
                        <input type="number" class="form-control" id="numberOfBasements" name="no_of_basements"
                            placeholder="Enter number of basements">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="jodiPossible">Jodi possible?</label><br>
                        <!-- <select class="form-select" id="jodiPossible" name="jodi_possible">
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select> -->
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="jodi_possible" id="jodi_possible_Yes" value="Yes">
                            <label class="form-check-label" for="jodi_possible_Yes">Yes</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="jodi_possible" id="jodi_possible_No" value="No">
                            <label class="form-check-label" for="jodi_possible_No">No</label>
                        </div>
                        
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="layoutDetails">Details about different types of layouts
                            and options</label>
                        <button type="button" class="btn btn-custom-primary" data-bs-toggle="modal"
                            data-bs-target="#uploadDocModal">
                            Add Docs
                        </button>

                        <!-- <input type="text" class="form-control" id="layoutDetails" name="layoutDetails"
                            placeholder="Enter layout details"> -->
                        <!-- <textarea class="form-control" id="layoutDetails" name="layoutDetails" rows="3"></textarea> -->
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="overallVastu">Overall Vastu</label><br>
                        <!-- <select class="form-select" id="overallVastu" name="overallVastu">
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select> -->
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="overallVastu" id="overallVastu_Yes" value="Yes">
                            <label class="form-check-label" for="overallVastu_Yes">Yes</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="overallVastu" id="overallVastu_No" value="No">
                            <label class="form-check-label" for="overallVastu_No">No</label>
                        </div>
                        
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="entryExitWind">Entry, Exit & Wind directions</label>
                        <input type="text" class="form-control" id="entryExitWind" name="entryExitWind"
                            placeholder="Enter details">
                    </div>
                    <div class="col-md-12 row form-group">
                        <label class="form-label primary" for="buildingAmenities">Building amenities list</label>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities" value="swimming_pool"
                                    id="amenity1">
                                <label class="form-check-label" for="amenity1">Swimming Pool</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities"
                                    value="gym_fitness_center" id="amenity2">
                                <label class="form-check-label" for="amenity2">Gym Fitness Center</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities" value="clubhouse"
                                    id="amenity3">
                                <label class="form-check-label" for="amenity3">Clubhouse</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities"
                                    value="children_play_area" id="amenity4">
                                <label class="form-check-label" for="amenity4">Children Play Area</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities"
                                    value="sports_facilities" id="amenity5">
                                <label class="form-check-label" for="amenity5">Sports Facilities</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities"
                                    value="jogging_walking_tracks" id="amenity6">
                                <label class="form-check-label" for="amenity6">Jogging Walking Tracks</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities" value="common_gardens"
                                    id="amenity7">
                                <label class="form-check-label" for="amenity7">Common Gardens</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities" value="community_hall"
                                    id="amenity8">
                                <label class="form-check-label" for="amenity8">Community Hall</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities" value="security_24_7"
                                    id="amenity9">
                                <label class="form-check-label" for="amenity9">Security 24X7</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities"
                                    value="cctv_surveillance" id="amenity10">
                                <label class="form-check-label" for="amenity10">CCTV Surveillance</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities" value="power_backup"
                                    id="amenity11">
                                <label class="form-check-label" for="amenity11">Power Backup</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities"
                                    value="waste_management" id="amenity12">
                                <label class="form-check-label" for="amenity12">Waste Management</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities" value="concierge"
                                    id="amenity13">
                                <label class="form-check-label" for="amenity13">Concierge</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities" value="reading_room"
                                    id="amenity14">
                                <label class="form-check-label" for="amenity14">Reading Room</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities" value="home_theatre"
                                    id="amenity15">
                                <label class="form-check-label" for="amenity15">Home Theatre</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities"
                                    value="internet_connectivity" id="amenity16">
                                <label class="form-check-label" for="amenity16">Internet Connectivity</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities" value="guest_rooms"
                                    id="amenity17">
                                <label class="form-check-label" for="amenity17">Guest Rooms</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities"
                                    value="pet_friendly_areas" id="amenity18">
                                <label class="form-check-label" for="amenity18">Pet Friendly Areas</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities" value="spa_salon"
                                    id="amenity19">
                                <label class="form-check-label" for="amenity19">Spa Salon</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities"
                                    value="co_working_space" id="amenity20">
                                <label class="form-check-label" for="amenity20">Co-Working Space</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="amenities"
                                    value="terrace_amenities" id="amenity21">
                                <label class="form-check-label" for="amenity21">Terrace Amenities</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <label class="form-label primary">Special Amenities</label>
                    </div>

                    <div class="col-md-6 col-lg-3 form-group">
                        <label for="special_amenity_1" class="form-label">Special Amenity 1</label>
                        <input type="text" class="form-control" id="special_amenity_1"
                            name="special_amenity_1" placeholder="Enter Special Amenity 1">
                    </div>

                    <div class="col-md-6 col-lg-3 form-group">
                        <label for="special_amenity_2" class="form-label">Special Amenity 2</label>
                        <input type="text" class="form-control" id="special_amenity_2"
                            name="special_amenity_2" placeholder="Enter Special Amenity 2">
                    </div>

                    <div class="col-md-6 col-lg-3 form-group">
                        <label for="special_amenity_3" class="form-label">Special Amenity 3</label>
                        <input type="text" class="form-control" id="special_amenity_3"
                            name="special_amenity_3" placeholder="Enter Special Amenity 3">
                    </div>

                    <div class="col-md-6 col-lg-3 form-group">
                        <label for="special_amenity_4" class="form-label">Special Amenity 4</label>
                        <input type="text" class="form-control" id="special_amenity_4"
                            name="special_amenity_4" placeholder="Enter Special Amenity 4">
                    </div>

                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="centralAC">Central air conditioning
                            available?</label><br>
                        <!-- <select class="form-select" id="centralAC" name="central_air_conditioning">
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select> -->
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="central_air_conditioning" id="central_air_conditioning_Yes" value="Yes">
                            <label class="form-check-label" for="central_air_conditioning_Yes">Yes</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="central_air_conditioning" id="central_air_conditioning_No" value="No">
                            <label class="form-check-label" for="central_air_conditioning_No">No</label>
                        </div>
                        
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="petFriendly">Is this project pet friendly?</label><br>
                        <!-- <select class="form-select" id="petFriendly" name="pet_friendly">
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select> -->
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="pet_friendly" id="pet_friendly_Yes" value="Yes">
                            <label class="form-check-label" for="pet_friendly_Yes">Yes</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="pet_friendly" id="pet_friendly_No" value="No">
                            <label class="form-check-label" for="pet_friendly_No">No</label>
                        </div>
                        
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="spiritualAttraction">Any spiritual or religious
                            attraction in the project?</label><br>
                        <!-- <select class="form-select" id="spiritualAttraction" name="spiritual_or_religious_attraction">
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select> -->
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="spiritual_or_religious_attraction" id="spiritual_or_religious_attraction_Yes" value="Yes">
                            <label class="form-check-label" for="spiritual_or_religious_attraction_Yes">Yes</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="spiritual_or_religious_attraction" id="spiritual_or_religious_attraction_No" value="No">
                            <label class="form-check-label" for="spiritual_or_religious_attraction_No">No</label>
                        </div>
                        
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="parkingType">Type of parking</label><br>
                        <!-- <select class="form-select" id="parkingType" name="type_of_parking">
                            <option value="Normal">Normal</option>
                            <option value="Hydraulic">Hydraulic</option>
                            <option value="Hydraulic with Valet">Hydraulic with Valet</option>
                        </select> -->
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="type_of_parking" id="type_of_parking_Normal" value="Normal">
                            <label class="form-check-label" for="type_of_parking_Normal">Normal</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="type_of_parking" id="type_of_parking_Hydraulic" value="Hydraulic">
                            <label class="form-check-label" for="type_of_parking_Hydraulic">Hydraulic</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="type_of_parking" id="type_of_parking_Hydraulic_with_Valet" value="Hydraulic with Valet">
                            <label class="form-check-label" for="type_of_parking_Hydraulic_with_Valet">Hydraulic with Valet</label>
                        </div>
                        
                    </div>

                </div>
            </form>
            <div class="modal fade" id="uploadDocModal" tabindex="-1" aria-labelledby="uploadDocModalLabel"
            aria-hidden="true">
            <div class="modal-dialog custom-size">
                <div class="modal-content">
                    <div class="modal-header"
                        style="background-color: var(--primary-color); color: white;">
                        <h1 class="modal-title fs-5" id="uploadDocModalLabel">Upload Property Documents
                        </h1>
                        <button type="button" class="btn-close" style="filter: invert(10);"
                            data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <!-- <div class="p-3 m-0" style="background-color: var(--primary-color); color: white;">
                            <h4>Unit Details</h4>
                        </div> -->
                        <div class="p-5">
                            <!-- Form body -->
                            <form id="documentForm" class="p-4 border border-top-0 rounded-bottom" enctype="multipart/form-data" style="background-color: white;">
                                <div class="row">
                                    <div class="col-12 col-md-6">
                                        <!-- Brochures Section -->
                                        <div class="mb-3">
                                            <h6>Brochures</h6>
                                            <label for="brochure1" class="form-label">Brochure 1 (PDF -
                                                Required)</label>
                                            <input type="file" style="border: var(--primary-color) 2px solid !important;" class="form-control" id="brochure1"
                                                name="brochure_1" accept="application/pdf">
                                            <small class="text-muted">Upload the first brochure PDF
                                                (required).</small>
                                        </div>

                                        <div class="mb-3">
                                            <label for="brochure2" class="form-label">Brochure 2 (PDF -
                                                Optional)</label>
                                            <input type="file" style="border: var(--primary-color) 2px solid !important;" class="form-control" id="brochure2"
                                                name="brochure_2" accept="application/pdf">
                                            <small class="text-muted">Upload the second brochure PDF
                                                (optional).</small>
                                        </div>
                                    </div>

                                    <div class="col-12 col-md-6">
                                        <!-- Property Images Section -->
                                        <div class="mb-3">
                                            <h6>Property Images (All Required)</h6>
                                            <label for="image1" class="form-label">Image 1</label>
                                            <input type="file" style="border: var(--primary-color) 2px solid !important;" class="form-control" id="image1"
                                                name="head_image" accept="image/*">
                                        </div>

                                        <div class="mb-3">
                                            <label for="image2" class="form-label">Image 2</label>
                                            <input type="file" style="border: var(--primary-color) 2px solid !important;" class="form-control" id="image2"
                                                name="sec_image_1" accept="image/*">
                                        </div>

                                        <div class="mb-3">
                                            <label for="image3" class="form-label">Image 3</label>
                                            <input type="file" style="border: var(--primary-color) 2px solid !important;" class="form-control" id="image3"
                                                name="sec_image_2" accept="image/*">
                                        </div>

                                        <div class="mb-3">
                                            <label for="image4" class="form-label">Image 4</label>
                                            <input type="file" style="border: var(--primary-color) 2px solid !important;" class="form-control" id="image4"
                                                name="sec_image_3" accept="image/*">
                                        </div>

                                        <div class="mb-3">
                                            <label for="image5" class="form-label">Image 5</label>
                                            <input type="file" style="border: var(--primary-color) 2px solid !important;" class="form-control" id="image5"
                                                name="sec_image_4" accept="image/*">
                                        </div>

                                    </div>
                                </div>
                            </form>
                        </div>

                    </div>
                    <div class="modal-footer">
                        <button type="button" id="doc_modal_close" class="btn btn-custom"
                            data-bs-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-custom-primary"
                            onclick="document.getElementById('doc_modal_close').click()">Upload Documents</button>
                    </div>
                </div>
            </div>
        </div>

        </div>
        <!-- Project/Property Details end -->

        <!-- Finance start -->
        <div class="scc-section container py-2 pt-3" style="margin-top: 90px !important;">
            <div class="p-3 m-0" style="background-color: var(--primary-color); color: white;">
                <h4>Finance</h4>
            </div>

            <!-- Form body -->
            <form id="finance" class="p-4 border border-top-0 rounded-bottom" style="background-color: white;">
                <div class="row">
                    <div class="col-md-12 form-group">
                        <label class="form-label primary" for="perSqFtRate">Per Sq. Ft. rate on
                            saleable</label>
                        <input type="text" class="form-control" id="perSqFtRate" name="per_sqft_rate_saleable"
                            placeholder="Enter rate of Per Sq. Ft.">
                    </div>

                    <div class="col-12">
                        <label class="form-label primary">PLC Options</label>
                    </div>

                    <div class="col-md-6 col-lg-3 form-group">
                        <label for="plcOptions_garden" class="form-label">Garden<span class="required"> *</span></label>
                        <input type="number" class="form-control" min="0" id="plcOptions_garden" value="0"
                            name="plc_garden" placeholder="20">
                    </div>

                    <div class="col-md-6 col-lg-3 form-group">
                        <label for="plcOptions_road_facing" class="form-label">Road Facing<span class="required">
                                *</span></label>
                        <input type="number" class="form-control" min="0" id="plcOptions_road_facing" value="0"
                            name="plc_road_facing" placeholder="50">
                    </div>

                    <div class="col-md-6 col-lg-3 form-group">
                        <label for="plcOptions_corner" class="form-label">Corner<span class="required"> *</span></label>
                        <input type="number" class="form-control" min="0" id="plcOptions_corner" value="0"
                            name="plc_corner" placeholder="40">
                    </div>

                    <div class="col-md-6 col-lg-3 form-group">
                        <label for="plcOptions_others" class="form-label">Others<span class="required"> *</span></label>
                        <input type="number" class="form-control" min="0" id="plcOptions_others" value="0"
                            name="plc_others" placeholder="02">
                    </div>

                    <!-- <div class="col-md-4 form-group">
                        <label class="form-label primary" for="plcOptions">PLC Options</label><br>
                        <select class="form-select" id="plcOptions" name="plcOptions">
                            <option value="Garden">Garden</option>
                            <option value="Road Facing">Road Facing</option>
                            <option value="Corner">Corner</option>
                            <option value="Others">Others</option>
                        </select>
                    </div> -->

                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="floorRise">Floor rise</label><br>
                        <button type="button" class="btn btn-custom-primary" data-bs-toggle="modal"
                            data-bs-target="#floorrisemodal" id="addFloorRiseBtn">
                            Add Floor Rise
                        </button>
                    </div>

                    <div class="modal fade" id="floorrisemodal" tabindex="-1" aria-labelledby="floorrisemodalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog custom-size">
                            <div class="modal-content">
                                <div class="modal-header" style="background-color: var(--primary-color); color: white;">
                                    <h1 class="modal-title fs-5" id="floorrisemodalLabel">Floor Rise Prices</h1>
                                    <button type="button" class="btn-close" style="filter: invert(10);"
                                        data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body p-5">
                                    <table id="floorRiseTable" class="table table-striped table-hover"
                                        style="border: 3px solid var(--primary-color); border-radius: 20px;">
                                        <thead>
                                            <tr>
                                                <th>Floor Number</th>
                                                <th>Price</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody id="floor_rise_table"></tbody>
                                    </table>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" id="floorrise_modal_close" class="btn btn-custom"
                                        data-bs-dismiss="modal">Close</button>
                                    <button type="button" class="btn btn-custom-primary" id="saveChangesBtn">Save
                                        Changes</button>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="developmentCharges">Development charges (AMC/Torrent
                            etc)</label>
                        <input type="text" class="form-control" id="developmentCharges" name="development_charges"
                            placeholder="Enter development charges">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="advanceMaintenance">Advance maintenance</label>
                        <input type="text" class="form-control" id="advanceMaintenance" name="advance_maintenance"
                            placeholder="Enter advance maintenance">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="maintenanceDeposit">Maintenance deposit</label>
                        <input type="text" class="form-control" id="maintenanceDeposit" name="maintenance_deposit"
                            placeholder="Enter maintenance deposit">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="specificExpenses">Other specific expenses if any?</label>
                        <input type="text" class="form-control" id="specificExpenses" name="other_specific_expenses"
                            placeholder="Enter details">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="saleDeedValue">Sale deed value</label>
                        <input type="text" class="form-control" id="saleDeedValue" name="sale_deed_value"
                            placeholder="Enter sale deed value">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="gstApplicable">How much GST is applicable?</label>
                        <input type="text" class="form-control" id="gstApplicable" name="gst_applicable"
                            placeholder="Enter GST">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="form-label primary" for="loanAvailability">Loan availability?</label><br>
                        <!-- <select class="form-control" id="loanAvailability" name="loan_availability">
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select> -->
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="loan_availability" id="loan_availability_Yes" value="Yes">
                            <label class="form-check-label" for="loan_availability_Yes">Yes</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="loan_availability" id="loan_availability_No" value="No">
                            <label class="form-check-label" for="loan_availability_No">No</label>
                        </div>
                        
                    </div>
                    <div class="col-md-12 form-group">
                        <label class="form-label primary" for="remarks">Remarks if any</label>
                        <textarea class="form-control" id="remarks" name="remarks" rows="3"></textarea>
                    </div>

                    <div class="col-md-12 text-center">
                        <button type="button" onclick="submit_detail_form()" class="btn btn-custom"><b>Save Property
                                Details</b></button>
                    </div>

                </div>
            </form>

        </div>
        <!-- Finance end -->

        <div class="container mt-3">
            <p class="text-primary-ssc"><b>&copy; 2024 Square Second</b></p>
        </div>
    </div>
    <!-- Main content end -->


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>



    <!-- Google Maps API -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAcRWpebJJ-1GyUv8NkMPVizMtqLWBHotk&libraries=places"></script>

    <script>
        let map, marker, searchBox;

        function initMap() {
            const initialLocation = { lat: 23.022505, lng: 72.5713621 }; // Set a default location

            map = new google.maps.Map(document.getElementById('map'), {
                center: initialLocation,
                zoom: 8
            });

            marker = new google.maps.Marker({
                position: initialLocation,
                map: map,
                draggable: true
            });

            // Create the search box and link it to the input field
            searchBox = new google.maps.places.SearchBox(document.getElementById('searchBox'));

            // Bias the search results towards the current map's viewport
            map.addListener('bounds_changed', () => {
                searchBox.setBounds(map.getBounds());
            });

            searchBox.addListener('places_changed', () => {
                const places = searchBox.getPlaces();
                if (places.length == 0) {
                    return;
                }

                // Get the first place's location and set it to the map and marker
                const place = places[0];
                if (!place.geometry || !place.geometry.location) {
                    return;
                }

                map.setCenter(place.geometry.location);
                marker.setPosition(place.geometry.location);
                map.setZoom(15);
            });

            // Update the search box with the address when the marker is moved
            marker.addListener('dragend', () => {
                const latlng = marker.getPosition();
                const geocoder = new google.maps.Geocoder();

                geocoder.geocode({ location: latlng }, (results, status) => {
                    if (status === 'OK') {
                        if (results[0]) {
                            document.getElementById('searchBox').value = results[0].formatted_address;
                        }
                    }
                });
            });
        }

        // Load the map when the modal is shown
        $('#mapModal').on('shown.bs.modal', function () {
            google.maps.event.trigger(map, "resize");
            map.setCenter(marker.getPosition());  // Re-center the map on the marker
        });

        // Save location button click handler
        document.getElementById('saveLocationBtn').addEventListener('click', () => {
            const lat = marker.getPosition().lat();
            const lng = marker.getPosition().lng();
            // alert(`Selected Location: Latitude: ${lat}, Longitude: ${lng}`);
            document.getElementById('googlePin').value = `${lat}|${lng}`
            document.getElementById('location_modal_close').click()
            document.getElementById('locaiton_saved').classList.add('fa', 'fa-check')
            // You can send the location data to your backend here
        });

        function getCurrentLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition((position) => {
                    const currentLocation = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };

                    // Set the map center and marker position to current location
                    map.setCenter(currentLocation);
                    map.setZoom(15);  // Zoom in to the current location
                    marker.setPosition(currentLocation);

                    // Reverse geocode to get the address and update the search box
                    const geocoder = new google.maps.Geocoder();
                    geocoder.geocode({ location: currentLocation }, (results, status) => {
                        if (status === 'OK') {
                            if (results[0]) {
                                document.getElementById('searchBox').value = results[0].formatted_address;
                            } else {
                                
                            }
                        }
                    });
                }, () => {
                    alert("Geolocation failed or is not supported by this browser.");
                });
            } else {
                alert("Geolocation is not supported by this browser.");
            }
        }

        // Add event listener to the button
        document.getElementById('currentLocationBtn').addEventListener('click', getCurrentLocation);

        function setLocation(lat, lng) {
            console.log(lat)
            console.log(lng)
            const newLocation = { lat: lat, lng: lng };

            // Set the map center and marker position to the new location
            map.setCenter(newLocation);
            map.setZoom(15);  // Zoom in to the new location
            marker.setPosition(newLocation);

            // Reverse geocode to get the address and update the search box
            const geocoder = new google.maps.Geocoder();
            geocoder.geocode({ location: newLocation }, (results, status) => {
                if (status === 'OK') {
                    if (results[0]) {
                        document.getElementById('searchBox').value = results[0].formatted_address;                        
                    } else {                        
                    }

                    // Automatically press the Save button
                    document.getElementById('saveLocationBtn').click();
                } else {
                    console.error('Geocode failed: ' + status);
                }
            });
        }

    </script>

    <script>
        let property_detail = {}

        $('#yearOfEstablishment').datepicker({
            format: "yyyy",
            startView: "years",
            minViewMode: "years",
            autoclose: true
        });

        $('#ageOfPropertyDeveloper').datepicker({
            format: "mm-yyyy",
            startView: "months",
            minViewMode: "months",
            autoclose: true
        });

        $('#ageOfPropertyRERA').datepicker({
            format: "mm-yyyy",
            startView: "months",
            minViewMode: "months",
            autoclose: true
        });

        $('#possession_by').datepicker({
            format: "mm-yyyy",
            startView: "months",
            minViewMode: "months",
            autoclose: true
        });

        async function submit_detail_form() {
            toggle_preloader()
            var developer_history_form = document.getElementById('developer_history');
            var contact_details_form = document.getElementById('contact_details');
            var project_property_details_form = document.getElementById('project_property_details');
            var finance_form = document.getElementById('finance');
            var document_form = document.getElementById('documentForm');

            if (developer_history_form.reportValidity()) {
                if (contact_details_form.reportValidity()) {
                    if (project_property_details_form.reportValidity()) {
                        if (finance_form.reportValidity()) {
                            if (document_form.reportValidity()) {
                                var form_developer_history = new FormData(document.getElementById('developer_history'));
                                var form_contact_details = new FormData(document.getElementById('contact_details'));
                                var form_project_property_details = new FormData(document.getElementById('project_property_details'));
                                var form_finance = new FormData(document.getElementById('finance'));
                                // var form_documents = new FormData(document.getElementById('documentForm'));

                                form_developer_history.forEach((value, key) => {
                                    if (!Object.prototype.hasOwnProperty.call(property_detail, key)) {
                                        property_detail[key] = value;
                                        return;
                                    }
                                    if (!Array.isArray(property_detail[key])) {
                                        property_detail[key] = [property_detail[key]];
                                    }
                                    property_detail[key].push(value);
                                });

                                form_contact_details.forEach((value, key) => {
                                    if (!Object.prototype.hasOwnProperty.call(property_detail, key)) {
                                        property_detail[key] = value;
                                        return;
                                    }
                                    if (!Array.isArray(property_detail[key])) {
                                        property_detail[key] = [property_detail[key]];
                                    }
                                    property_detail[key].push(value);
                                });

                                form_project_property_details.forEach((value, key) => {
                                    if (!Object.prototype.hasOwnProperty.call(property_detail, key)) {
                                        property_detail[key] = value;
                                        return;
                                    }
                                    if (!Array.isArray(property_detail[key])) {
                                        property_detail[key] = [property_detail[key]];
                                    }
                                    property_detail[key].push(value);
                                });

                                form_finance.forEach((value, key) => {
                                    if (!Object.prototype.hasOwnProperty.call(property_detail, key)) {
                                        property_detail[key] = value;
                                        return;
                                    }
                                    if (!Array.isArray(property_detail[key])) {
                                        property_detail[key] = [property_detail[key]];
                                    }
                                    property_detail[key].push(value);
                                });

                                // form_documents.forEach((value, key) => {
                                //     if (!Object.prototype.hasOwnProperty.call(property_detail, key)) {
                                //         property_detail[key] = value;
                                //         return;
                                //     }
                                //     if (!Array.isArray(property_detail[key])) {
                                //         property_detail[key] = [property_detail[key]];
                                //     }
                                //     property_detail[key].push(value);
                                // });

                                console.log(JSON.stringify(property_detail))
                                try {
                                    const response = await fetch("{% url 'property-detail-list' %}", {
                                        method: 'POST',
                                        headers: {
                                            'Content-Type': 'application/json',
                                            'X-CSRFToken': '{{csrf_token}}'
                                        },
                                        body: JSON.stringify(property_detail)
                                    });

                                    const data = await response.json();
                                    console.log(JSON.stringify(data, null, 2))
                                    if (data.success == true) {
                                        submit_document_form(data.building_db_id)
                                        alert('data added successfully!')
                                    }
                                    else {

                                    }

                                }
                                catch (error) {
                                    console.log(error.message)
                                }
                            }
                        }

                    }

                }

            }

            toggle_preloader()

        }

        async function submit_document_form(building_id) {
            toggle_preloader();

            var document_form = document.getElementById('documentForm');

            if (document_form.reportValidity()) {
                var formData = new FormData(document_form);

                // Append the building_id to the FormData
                formData.append('building_id', building_id);

                try {
                    const response = await fetch("{% url 'submit-document-form-list' %}", {  // Use the appropriate URL for your API endpoint
                        method: 'POST',
                        headers: {
                            'X-CSRFToken': '{{csrf_token}}'
                        },
                        body: formData  // Send the FormData object
                    });

                    const data = await response.json();
                    console.log(JSON.stringify(data, null, 2));

                    if (data.success === true) {
                        toggle_preloader();
                        return;
                    } else {
                        alert('Error in submitting documents: ' + data.message);
                    }
                } catch (error) {
                    console.error("Error submitting document form: ", error);
                }
            } else {
                alert("Please fill all the fields in the document form correctly.");
            }

            toggle_preloader();
        }

        function toggle_loader() {
            document.getElementById('main-content').classList.toggle('blur');
            document.getElementById('spinner').classList.toggle('spinner-container');
            document.getElementById('spinner-text').classList.toggle('add-display-block');
        }

        function toggle_preloader() {
            document.getElementById('main-content').classList.toggle('blur');
            document.getElementById('spinner').classList.toggle('spinner-container');
        }

        document.getElementById('addFloorRiseBtn').addEventListener('click', function () {
            let totalFloors = document.getElementById('numberOfFloors').value;

            if (!totalFloors || totalFloors <= 0) {
                alert("Please enter a valid number of floors.");
                return;
            }

            // Clear previous rows if any
            let tableBody = document.getElementById('floor_rise_table');
            tableBody.innerHTML = '';

            // Create table rows dynamically based on floor number
            for (let i = 1; i <= totalFloors; i++) {
                let row = document.createElement('tr');

                // Floor Number (pre-filled)
                let floorCell = document.createElement('td');
                // floorCell.textContent = i;
                floorCell.innerHTML = `<b>${i}</b>`
                row.appendChild(floorCell);

                // Price Input
                let priceCell = document.createElement('td');
                let priceInput = document.createElement('input');
                priceInput.type = 'number';
                priceInput.name = `floorPrice_${i}`;
                priceInput.className = 'priceInput';
                priceInput.classList.add('form-control')
                priceInput.placeholder = 'Enter price...'
                priceCell.appendChild(priceInput);
                row.appendChild(priceCell);


                // Action (Copy button)
                let actionCell = document.createElement('td');
                let copyBtn = document.createElement('button');
                copyBtn.textContent = 'Copy';
                copyBtn.classList.add('btn', 'btn-outline-dark');
                copyBtn.type = 'button'
                copyBtn.setAttribute('data-floor', i);
                copyBtn.addEventListener('click', function () {
                    if (i > 1) {
                        let prevPrice = document.querySelector(`input[name=floorPrice_${i - 1}]`).value;
                        priceInput.value = prevPrice;
                    }
                });
                if (i > 1) {
                    actionCell.appendChild(copyBtn);

                }
                row.appendChild(actionCell);

                // Append the row to the table body
                tableBody.appendChild(row);
            }

        });

        document.getElementById('saveChangesBtn').addEventListener('click', function () {
            let prices = [];
            let totalFloors = document.getElementById('numberOfFloors').value;
            console.log('esgrea')

            for (let i = 1; i <= totalFloors; i++) {
                let price = document.querySelector(`input[name=floorPrice_${i}]`).value;
                prices.push({ floor: i, price: price });
            }


            console.log(prices);
            property_detail['floor_rise'] = prices
            document.getElementById('floorrise_modal_close').click()


        });

        window.onload = function () {
            toggle_preloader();
            initMap();
        };

    </script>

    <script>
        async function copy_building_details(building_id) {
            toggle_preloader();
            const data = await get_building_data(building_id)
            setFormValues(data)
            setLocation(Number(data['google_pin_lat']), Number(data['google_pin_lng']))
            toggle_preloader();
        }

        async function get_building_data(building_id) {
            try {
                const response = await fetch("{% url 'property-copy-list' %}", {  // Use the appropriate URL for your API endpoint
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': '{{csrf_token}}'
                    },
                    body: JSON.stringify({"building_id":`${building_id}`})
                });

                const data = await response.json();
                if (data.success === true) {
                    return data.building_data
                } else {
                    alert('Error in getting unit details: ' + data.message);
                }
            } catch (error) {
                console.error("Error submitting document form: ", error);
            }
        }

        function setFormValues(data) {
            // Loop through each key-value pair in the dictionary (data)
            for (const key in data) {
                if (data.hasOwnProperty(key)) {
                    // Find the input element(s) where name attribute matches the key
                    const input = document.querySelector(`[name="${key}"]`);
                    const inputs = document.querySelectorAll(`[name="${key}"]`);

                    if (input) {
                        if (input.type === 'radio') {
                            // If the input is a radio button group, loop through all radio buttons
                            inputs.forEach(radio => {
                                // Check for true/false values and map them to 'Yes'/'No'
                                if ((data[key] === true || data[key] === "true") && radio.value.toLowerCase() === 'yes') {
                                    radio.checked = true;  // Select the "Yes" radio button
                                } else if ((data[key] === false || data[key] === "false") && radio.value.toLowerCase() === 'no') {
                                    radio.checked = true;  // Select the "No" radio button
                                } else if (radio.value === data[key]) {
                                    // For other radio buttons, match by value
                                    radio.checked = true;
                                }
                            });
                        } else if (input.type === 'checkbox') {
                            // Handle checkboxes
                            if (Array.isArray(data[key])) {
                                // If the data is an array, check each checkbox that matches
                                inputs.forEach(checkbox => {
                                    checkbox.checked = data[key].includes(checkbox.value);
                                });
                            } else {
                                // If it's a single value, just check/uncheck the box
                                input.checked = data[key] === true || data[key] === "true";
                            }
                        } else if (input.type === 'file') {
                            console.warn('File input cannot be set programmatically. Please upload a new file.');
                        } else {
                            input.value = data[key];
                        }
                    }
                }
            }

        }

        '{% if is_building_edit == True %}'
            copy_building_details('{{building_id}}')
        '{% endif %}'

    </script>
</body>

</html>